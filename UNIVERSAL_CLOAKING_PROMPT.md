# üîê –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã Access Gate (–æ–±–Ω–æ–≤–ª–µ–Ω–æ)

---

## üìã –ü–†–û–ú–ü–¢ –î–õ–Ø –ö–û–ü–ò–†–û–í–ê–ù–ò–Ø:

```
–Ø –¥–æ–±–∞–≤–∏–ª –≤ –∫–æ—Ä–µ–Ω—å —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –¥—Ä—É–≥–æ–π –ø—Ä–æ–µ–∫—Ç ‚Äî [–ù–ê–ó–í–ê–ù–ò–ï_–†–ï–§–ï–†–ï–ù–°–ê]. –ò—Å–ø–æ–ª—å–∑—É–π –µ–≥–æ –∫–∞–∫ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å –∏ –ø–µ—Ä–µ–Ω–µ—Å–∏ –≤ –Ω–∞—à –ø—Ä–æ–µ–∫—Ç ¬´—Å–µ—Ä—É—é —á–∞—Å—Ç—å¬ª (access gate) —Å—Ç—Ä–æ–≥–æ –ø–æ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–∑ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–∞.

–ö–æ–Ω—Ç–µ–∫—Å—Ç: –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –µ—Å—Ç—å ¬´–±–µ–ª–∞—è¬ª —á–∞—Å—Ç—å (–Ω—ã–Ω–µ—à–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç) –∏ ¬´—Å–µ—Ä–∞—è¬ª —á–∞—Å—Ç—å (WebView). –ù–∞ —Å—Ç–∞—Ä—Ç–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∑–∞–ø—Ä–æ—Å –∫ —Ç—Ä–µ–∫–µ—Ä—É; –µ—Å–ª–∏ –æ—Ç–≤–µ—Ç 404 ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –±–µ–ª—É—é —á–∞—Å—Ç—å; –∏–Ω–∞—á–µ ‚Äî –æ—Ç–∫—Ä—ã–≤–∞–µ–º WebView –ø–æ trackerURL (—Ä–µ–¥–∏—Ä–µ–∫—Ç—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Å–∞–º–∏–º WebView, –ø–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞ –Ω–µ –Ω—É–∂–µ–Ω).

–¢—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤—Å—é –ª–æ–≥–∏–∫—É –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏: —Å–µ—Ç—å/–∫–µ—à, WebView, –∫—É–∫–∏/—Å–µ—Å—Å–∏–∏, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–µ–π, –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥, —Ç–æ—á–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ App, –Ω–µ –º–µ–Ω—è—è –±–µ–ª—É—é —á–∞—Å—Ç—å.

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–´–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø:

üéØ –õ–û–ì–ò–ö–ê –ö–ï–®–ò–†–û–í–ê–ù–ò–Ø (—Ç–æ—á–Ω–æ –∫–∞–∫ –≤ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–µ):
- –ï—Å–ª–∏ —Ç—Ä–µ–∫–µ—Ä –≤–µ—Ä–Ω—É–ª 404 ‚Üí –≤—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –±–µ–ª—É—é —á–∞—Å—Ç—å, –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (—Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞–≤—Å–µ–≥–¥–∞).
- –ï—Å–ª–∏ —Ç—Ä–µ–∫–µ—Ä –≤–µ—Ä–Ω—É–ª –Ω–µ 404 (200+) ‚Üí –≤—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–µ—Ä—É—é —á–∞—Å—Ç—å —Å —Ç–µ–º –∂–µ trackerURL, –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (—Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞–≤—Å–µ–≥–¥–∞).
- –û—à–∏–±–∫–∞ —Å–µ—Ç–∏ –Ω–µ –∫—ç—à–∏—Ä—É–µ—Ç—Å—è: –Ω–∞ —Ç–µ–∫—É—â–∏–π –∑–∞–ø—É—Å–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –±–µ–ª—É—é —á–∞—Å—Ç—å, –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ —Å–Ω–æ–≤–∞ –ø—ã—Ç–∞–µ–º—Å—è –∑–∞–ø—Ä–æ—Å–∏—Ç—å —Ç—Ä–µ–∫–µ—Ä.

üåê WEBVIEW (—Ç–æ—á–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è):
- –ì–ª–æ–±–∞–ª—å–Ω—ã–π WKWebView, —Å–æ—Ö—Ä–∞–Ω—è—é—â–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏: cookies –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–∏—à—É—Ç—Å—è –≤ HTTPCookieStorage.shared.
- JavaScript –≤–∫–ª—é—á—ë–Ω, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ –æ–∫–æ–Ω —Ä–∞–∑—Ä–µ—à–µ–Ω–æ.
- –ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –º–µ–¥–∏–∞ –±–µ–∑ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∂–µ—Å—Ç—ã –Ω–∞–∑–∞–¥/–≤–ø–µ—Ä—ë–¥ –≤–∫–ª—é—á–µ–Ω—ã.
- –ö–∞—Å—Ç–æ–º–Ω–∞—è –Ω–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ —Å –∫–Ω–æ–ø–∫–∞–º–∏ ¬´–ù–∞–∑–∞–¥/–í–ø–µ—Ä—ë–¥¬ª.
- –û–±—Ä–∞–±–æ—Ç–∫–∞ JS alert/confirm —á–µ—Ä–µ–∑ UIKit-–¥–∏–∞–ª–æ–≥–∏.
- –¶–≤–µ—Ç–∞ —Ñ–æ–Ω–∞/—ç–ª–µ–º–µ–Ω—Ç–æ–≤ –±–µ—Ä—É—Ç—Å—è –∏–∑ `Utils/WebViewColorManager.swift`.

üì± –û–†–ò–ï–ù–¢–ê–¶–ò–Ø –≠–ö–†–ê–ù–ê:
- WebView (—Å–µ—Ä–∞—è —á–∞—Å—Ç—å): –≤—Å–µ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ (–Ω–∞ iPhone ‚Äî –≤—Å–µ, –∫—Ä–æ–º–µ –≤–≤–µ—Ä—Ö –Ω–æ–≥–∞–º–∏). –ë–µ–ª–∞—è —á–∞—Å—Ç—å: —Ç–æ–ª—å–∫–æ –ø–æ—Ä—Ç—Ä–µ—Ç.
- –ê–≤—Ç–æ–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –≤—Ö–æ–¥–µ/–≤—ã—Ö–æ–¥–µ –∏–∑ WebView —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º iOS 16+ `requestGeometryUpdate` –∏ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.
- –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–π —á–µ—Ä–µ–∑ `AppDelegate.application(_:supportedInterfaceOrientationsFor:)`.

üèóÔ∏è –§–ê–ô–õ–´ –ò –°–¢–†–£–ö–¢–£–†–ê (–¥–æ—Å–ª–æ–≤–Ω–æ, –∫–∞–∫ –≤ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–µ, —Å –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏):
- `Services/AccessGate/AccessGateService.swift` ‚Äî –∑–∞–ø—Ä–æ—Å –∫ —Ç—Ä–µ–∫–µ—Ä—É, –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ (404 ‚Üí –±–µ–ª–∞—è —á–∞—Å—Ç—å; –∏–Ω–∞—á–µ ‚Üí WebView –ø–æ trackerURL), —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.
- `Core/Storage/StorageManager.swift` ‚Äî UserDefaults –¥–ª—è `accessGateResult` (Bool), `accessGateURL` (String?), `accessGateWasNetworkError` (Bool).
- `ViewModels/AppStateManager.swift` ‚Äî singleton `@MainActor` + `ObservableObject`, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ `init()`.
- `Shared/Components/WebView/ExternalWebView.swift` ‚Äî SwiftUI-–æ–±—ë—Ä—Ç–∫–∞ —Å —Ç—É–ª–±–∞—Ä–æ–º –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–µ–π.
- `Shared/Components/WebView/ExternalWebViewRepresentable.swift` ‚Äî `UIViewRepresentable` + `GlobalWebViewManager` (–≤ —ç—Ç–æ–º –∂–µ —Ñ–∞–π–ª–µ).
- `Shared/Components/WebView/WebViewStore.swift` ‚Äî —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –∫–æ–º–∞–Ω–¥—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.
- `Views/LoadingScreen.swift` ‚Äî —ç–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏ —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏.
- `Utils/OrientationManager.swift` ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∏ —Ñ–æ—Ä—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–π (iOS 16+ API + —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å).
- `Utils/WebViewColorManager.swift` ‚Äî –ø–∞–ª–∏—Ç—Ä–∞ —Ü–≤–µ—Ç–æ–≤ –¥–ª—è WebView.
- `AppDelegate.swift` ‚Äî –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–π.
- (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) `Utils/SafariWebView.swift` ‚Äî –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π SFSafariViewController –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å—Å—ã–ª–æ–∫.

üîß –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –í –¢–û–ß–ö–£ –í–•–û–î–ê –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø:
- –î–æ–±–∞–≤–∏—Ç—å `@UIApplicationDelegateAdaptor(AppDelegate.self) var appDelegate` –≤ –≥–ª–∞–≤–Ω—ã–π `App`.
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `@StateObject private var appStateManager = AppStateManager.shared` –∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å:
  1) `LoadingScreen()` ‚Äî –ø–æ–∫–∞ –∏–¥—ë—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞,
  2) `ExternalWebView(urlString: url)` ‚Äî –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–µ—Ä—É—é —á–∞—Å—Ç—å,
  3) ¬´–ë–µ–ª—É—é —á–∞—Å—Ç—å¬ª (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç) ‚Äî –≤ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö.
- –ü—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏/—Å–∫—Ä—ã—Ç–∏–∏ WebView –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `OrientationManager`.

–í–∞–∂–Ω–æ: –µ—Å–ª–∏ –Ω—É–∂–µ–Ω —Å–≤–æ–π trackerURL, –≤—ã–∑–≤–∞—Ç—å `AccessGateService.shared.setTrackerURL("https://.../")` –î–û –ø–µ—Ä–≤–æ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ `AppStateManager.shared` (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ `App.init()` –∏–ª–∏ –≤ `AppDelegate.application(_:didFinishLaunchingWithOptions:)`).

‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ú–û–ú–ï–ù–¢–´:
- –ë–µ–ª–∞—è —á–∞—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω–∞ –æ—Å—Ç–∞—Ç—å—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–∏–∑–º–µ–Ω–Ω–æ–π.
- –ü—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ `extension Color { init(hex:) }` ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –≤ –ø—Ä–æ–µ–∫—Ç–µ.
- –í Info.plist –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ (–∏–Ω–∞—á–µ —Å–∏—Å—Ç–µ–º–∞ –∏—Ö –∑–∞–±–ª–æ–∫–∏—Ä—É–µ—Ç, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ `OrientationManager`).
- –ü–∞—Ä—Å–∏–Ω–≥ —Ç–µ–ª–∞ –æ—Ç–≤–µ—Ç–∞ —Ç—Ä–µ–∫–µ—Ä–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ‚Äî –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ HTTP —Å—Ç–∞—Ç—É—Å–∞; URL –¥–ª—è WebView ‚Äî —Å–∞–º `trackerURL` (—Ä–µ–¥–∏—Ä–µ–∫—Ç—ã –ø—Ä–æ–π–¥—É—Ç –≤–Ω—É—Ç—Ä–∏ WebView).

üé¨ –ü–õ–ê–ù –ò–°–ü–û–õ–ù–ï–ù–ò–Ø (5 —ç—Ç–∞–ø–æ–≤):
1) –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞: `AccessGateService`, `StorageManager`, `AppStateManager`.
2) WebView: `ExternalWebView.swift`, `ExternalWebViewRepresentable.swift` (—Å `GlobalWebViewManager`), `WebViewStore.swift`.
3) –£—Ç–∏–ª–∏—Ç—ã –∏ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è: `OrientationManager`, `WebViewColorManager`, `AppDelegate`.
4) UI –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: `LoadingScreen`, –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –≥–ª–∞–≤–Ω–æ–º `App`.
5) –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è: –ø—Ä–æ–≤–µ—Ä–∫–∞ Info.plist, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, —Å–±–æ—Ä–∫–∞.

–°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ä–µ—Ñ–µ—Ä–µ–Ω—Å –∏ —Ü–µ–ª–µ–≤–æ–π –ø—Ä–æ–µ–∫—Ç, –≤—ã–¥–∞–π –ø–ª–∞–Ω –ø–æ —ç—Ç–∞–ø–∞–º, –∑–∞—Ç–µ–º –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é.
```

---

## üìù –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

### 1) –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
- –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –≤ –∫–æ—Ä–µ–Ω—å —Ü–µ–ª–µ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.
- –ó–∞–º–µ–Ω–∏—Ç—å `[–ù–ê–ó–í–ê–ù–ò–ï_–†–ï–§–ï–†–ï–ù–°–ê]` –Ω–∞ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ.
- –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å –ø—Ä–æ–º–ø—Ç –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—É.

### 2) –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ä–µ—Ñ–µ—Ä–µ–Ω—Å, —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –ø–ª–∞–Ω –∏–∑ 5 —ç—Ç–∞–ø–æ–≤ –∏ –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–µ—Ä–µ–Ω–æ—Å.

### 3) –ß—Ç–æ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ/–∏–∑–º–µ–Ω–µ–Ω–æ
```
TargetProject/
‚îú‚îÄ‚îÄ Services/
‚îÇ   ‚îú‚îÄ‚îÄ AccessGate/AccessGateService.swift
‚îÇ   ‚îî‚îÄ‚îÄ Storage/StorageManager.swift
‚îú‚îÄ‚îÄ ViewModels/AppStateManager.swift
‚îú‚îÄ‚îÄ Shared/
‚îÇ   ‚îî‚îÄ‚îÄ Components/
‚îÇ       ‚îî‚îÄ‚îÄ WebView/
‚îÇ           ‚îú‚îÄ‚îÄ ExternalWebView.swift
‚îÇ           ‚îú‚îÄ‚îÄ ExternalWebViewRepresentable.swift  # + GlobalWebViewManager
‚îÇ           ‚îî‚îÄ‚îÄ WebViewStore.swift
‚îú‚îÄ‚îÄ Views/LoadingScreen.swift
‚îú‚îÄ‚îÄ Utils/
‚îÇ   ‚îú‚îÄ‚îÄ OrientationManager.swift
‚îÇ   ‚îî‚îÄ‚îÄ WebViewColorManager.swift
‚îú‚îÄ‚îÄ AppDelegate.swift
‚îî‚îÄ‚îÄ ACCESS_GATE_INTEGRATION.md
```

### 4) –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- ‚úÖ –ë–µ–ª–∞—è —á–∞—Å—Ç—å –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è.
- ‚úÖ –£—Å—Ç–æ–π—á–∏–≤–∞—è –ª–æ–≥–∏–∫–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è (—É—Å–ø–µ—Ö –Ω–∞–≤—Å–µ–≥–¥–∞, –æ—à–∏–±–∫–∏ ‚Äî –Ω–µ—Ç).
- ‚úÖ –ì–ª–æ–±–∞–ª—å–Ω—ã–π WebView —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å–µ—Å—Å–∏–∏ (cookies ‚Üí shared storage).
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–µ–π –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è + iOS 16+ API.

### 5) –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è
| –ü—Ä–æ–±–ª–µ–º–∞ | –†–µ—à–µ–Ω–∏–µ |
|----------|---------|
| –ù–µ —Å–æ–≤–ø–∞–ª–æ —á–∏—Å–ª–æ —Ñ–∞–π–ª–æ–≤ –≤ WebView | –í —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–µ 3 —Ñ–∞–π–ª–∞; `GlobalWebViewManager` –≤–∫–ª—é—á—ë–Ω –≤ `ExternalWebViewRepresentable.swift`. |
| –ö–æ–Ω—Ñ–ª–∏–∫—Ç `Color(hex:)` | –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏–∫–∞—Ç, –æ—Å—Ç–∞–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –≤ –ø—Ä–æ–µ–∫—Ç–µ. |
| –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–µ–Ω–¥—Å–∫–µ–π–ø | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Info.plist –∏ `AppDelegate.supportedInterfaceOrientations`. |
| –ù–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∫—É–∫–∏/—Å–µ—Å—Å–∏–∏ | –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `forceSaveCookies()` –∏ –≤–∫–ª—é—á—ë–Ω `WKWebsiteDataStore.default()` (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ `WKProcessPool` –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞ iOS 15+). |
| –¢—Ä–µ–∫–µ—Ä –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è | –í—ã–∑—ã–≤–∞—Ç—å `setTrackerURL(...)` –¥–æ –ø–µ—Ä–≤–æ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ `AppStateManager.shared`. |

### 6) –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- ‚úÖ –ö–æ–º–ø–∏–ª—è—Ü–∏—è –±–µ–∑ –æ—à–∏–±–æ–∫.
- ‚úÖ –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –≤–∏–¥–µ–Ω `LoadingScreen`.
- ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –±–µ–ª–∞—è/—Å–µ—Ä–∞—è —á–∞—Å—Ç—å –ø–æ —Å—Ç–∞—Ç—É—Å—É —Ç—Ä–µ–∫–µ—Ä–∞.
- ‚úÖ WebView –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω—É–∂–Ω—ã–µ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏.
- ‚úÖ –ö—É–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏.

---

## üöÄ –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

–ü—Ä–æ–º–ø—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å —Ç–µ–∫—É—â–∏–º —ç—Ç–∞–ª–æ–Ω–Ω—ã–º –ø—Ä–æ–µ–∫—Ç–æ–º –∏ –≥–æ—Ç–æ–≤ –∫ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é –≤ –ª—é–±—ã—Ö SwiftUI iOS –ø—Ä–æ–µ–∫—Ç–∞—Ö.